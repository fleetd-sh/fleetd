# Fleet Production Environment Configuration
# Copy this file to .env.production and configure for your environment

# Version Configuration
VERSION=latest
DOCKER_REGISTRY=ghcr.io

# Database Configuration
POSTGRES_USER=fleetd
POSTGRES_PASSWORD=CHANGE_THIS_STRONG_PASSWORD
POSTGRES_DB=fleetd
POSTGRES_PORT=5432

# Valkey Configuration
VALKEY_PASSWORD=CHANGE_THIS_VALKEY_PASSWORD
VALKEY_PORT=6379

# Platform API Configuration
PLATFORM_API_PORT=8080
JWT_SECRET=CHANGE_THIS_TO_RANDOM_64_CHAR_STRING
JWT_EXPIRY=24h

# Device API Configuration
DEVICE_API_PORT=8081
MTLS_ENABLED=true
MAX_DEVICES_PER_FLEET=10000
DEVICE_HEARTBEAT_INTERVAL=60s
DEVICE_TIMEOUT=5m

# Studio UI Configuration (if enabled)
STUDIO_PORT=3000
PUBLIC_API_URL=https://api.fleet.yourdomain.com
PUBLIC_DEVICE_API_URL=https://devices.fleet.yourdomain.com

# TLS Configuration
# Options: auto (Let's Encrypt), manual (user-provided), self-signed
TLS_MODE=auto
TLS_DOMAIN=fleet.yourdomain.com
TLS_EMAIL=admin@yourdomain.com

# CORS Configuration
CORS_ORIGINS=https://fleet.yourdomain.com,http://localhost:3000

# Monitoring Configuration
METRICS_ENABLED=true
TRACING_ENABLED=false
LOG_LEVEL=info

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_RPS=100

# Grafana Configuration (if monitoring profile enabled)
GRAFANA_USER=admin
GRAFANA_PASSWORD=CHANGE_THIS_GRAFANA_PASSWORD
PROMETHEUS_PORT=9090
GRAFANA_PORT=3001

# Backup Configuration
BACKUP_ENABLED=true
BACKUP_SCHEDULE="0 2 * * *"  # 2 AM daily
BACKUP_RETENTION_DAYS=30

# Email Configuration (for alerts and notifications)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=notifications@yourdomain.com
SMTP_PASSWORD=CHANGE_THIS_SMTP_PASSWORD
SMTP_FROM=fleetd Platform <notifications@yourdomain.com>

# Deployment Strategies
DEFAULT_DEPLOYMENT_STRATEGY=rolling
ROLLING_UPDATE_MAX_UNAVAILABLE=25%
ROLLING_UPDATE_MAX_SURGE=25%
CANARY_INITIAL_WEIGHT=10
CANARY_INCREMENT=20

# Security Configuration
ENABLE_AUDIT_LOG=true
ENABLE_ENCRYPTION_AT_REST=true
SESSION_TIMEOUT=12h
MAX_LOGIN_ATTEMPTS=5
LOCKOUT_DURATION=30m